<view class="container">
  <!-- çŠ¶æ€ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stat-item">
      <view class="stat-value">{{orderStats.total}}</view>
      <view class="stat-label">è®¢å•æ€»æ•°</view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{orderStats.pending}}</view>
      <view class="stat-label">å¾…å¤„ç†</view>
    </view>
    <view class="stat-item">
      <view class="stat-value">{{orderStats.totalAmount}}</view>
      <view class="stat-label">æ€»é‡‘é¢</view>
    </view>
  </view>

  <!-- çŠ¶æ€ç­›é€‰ -->
  <view class="filter-tabs">
    <view class="tab {{activeTab === 'all' ? 'active' : ''}}" bindtap="switchTab" data-tab="all">
      å…¨éƒ¨ <text class="count">{{orderStats.total}}</text>
    </view>
    <view class="tab {{activeTab === 'pending' ? 'active' : ''}}" bindtap="switchTab" data-tab="pending">
      å¾…ç¡®è®¤ <text class="count">{{orderStats.pending}}</text>
    </view>
    <view class="tab {{activeTab === 'confirmed' ? 'active' : ''}}" bindtap="switchTab" data-tab="confirmed">
      å·²ç¡®è®¤ <text class="count">{{orderStats.confirmed}}</text>
    </view>
    <view class="tab {{activeTab === 'shipped' ? 'active' : ''}}" bindtap="switchTab" data-tab="shipped">
      å·²å‘è´§ <text class="count">{{orderStats.shipped}}</text>
    </view>
  </view>

  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="order-list" wx:if="{{orders.length > 0}}">
    <view class="order-item" wx:for="{{orders}}" wx:key="_id" bindtap="navigateToDetail" data-id="{{item._id}}">
      <view class="order-header">
        <view class="order-number">{{item.orderNumber}}</view>
        <view class="order-status {{item.statusClass}}">{{item.orderStatus}}</view>
      </view>
      <view class="order-store">
        <text class="store-name">{{item.store.storeName}}</text>
        <text class="store-contact">{{item.store.contactPerson}}</text>
      </view>
      <view class="order-items">
        <view class="item-summary" wx:for="{{item.orderSummary.items}}" wx:for-item="product" wx:key="productId">
          {{product.productName}} x{{product.quantity}}
        </view>
      </view>
      <view class="order-footer">
        <view class="order-time">{{item.createdAtFormatted}}</view>
        <view class="order-amount">ï¿¥{{item.orderSummary.totalAmount}}</view>
      </view>
      <view class="order-actions" wx:if="{{item.orderStatus === 'å¾…ç¡®è®¤'}}">
        <button class="action-btn reject" bindtap="rejectOrder" data-id="{{item._id}}" catchtap="true">æ‹’ç»</button>
        <button class="action-btn confirm" bindtap="confirmOrder" data-id="{{item._id}}" catchtap="true">ç¡®è®¤</button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <view class="empty-icon">ğŸ“‹</view>
    <view class="empty-text">æš‚æ— è®¢å•æ•°æ®</view>
    <button class="add-btn" bindtap="navigateToCreate">åˆ›å»ºè®¢å•</button>
  </view>

  <!-- åˆ›å»ºè®¢å•æŒ‰é’® -->
  <view class="fab" bindtap="navigateToCreate">
    <text class="plus">+</text>
  </view>
</view>